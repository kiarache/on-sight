# ON-Sight (오엔사이트)

**오엔사이트(ON-Sight)**는 현장 중심의 프로젝트 관리 및 실시간 보고 플랫폼입니다.
복잡한 현장 데이터를 체계적으로 관리하고, 현장의 생생한 정보를 실시간 사진과 함께 공유하여 프로젝트의 효율성과 신뢰도를 극대화합니다.

---

## ✨ 주요 기능

- **실시간 현장 보고**: 기술자가 현장에서 즉시 사진을 촬영하고 보고서를 작성하여 제출할 수 있습니다.
- **이미지 파일 관리**: 서버의 독립적인 저장 공간(`uploads/`)을 사용하여 고해상도 현장 사진을 안정적으로 관리합니다.
- **체계적인 프로젝트 구조**: 프로젝트 - 개소(Site) - 보고서로 이어지는 계층 구조를 통해 데이터를 관리합니다.
- **강력한 관리자 제어**: 계정 관리, 협력사 지정, 데이터 백업 및 시스템 제어 기능을 제공합니다.

## 👤 사용자 역할

- **SUPER (최고 관리자)**: 모든 데이터 관리, 시스템 설정 변경, 백업 및 서비스 재기동 권한을 가집니다.
- **ADMIN (관리자)**: 사용자 계정 관리, 프로젝트 및 사이트 생성, 협력사 관리를 수행합니다.
- **TECHNICIAN (기술자)**: 할당된 현장에서 보고서를 작성하고 제출합니다.

---

## 📖 페이지별 사용 방법

### 1. 대시보드 (Dashboard)

- **관리자용**: 프로젝트 전체 진행 현황, 미배정 사이트, 최근 보고 내역을 한눈에 파악합니다.
- **기술자용**: 본인이 담당하거나 최근에 보고한 현장의 목록을 확인합니다.

### 2. 프로젝트 및 사이트 관리

- **프로젝트 생성**: 새로운 프로젝트를 등록하고 상태(설계중/진행중/완료)를 관리합니다.
- **개소(Site) 관리**: 하나의 프로젝트 내에 여러 개의 작업 개소를 추가하고, 각 개소별로 담당 협력사를 지정할 수 있습니다.

### 3. 현장 보고서 작성 (Field Submission)

- 현장 기술자가 작업 내용(내용, 사진)을 입력합니다.
- **사진 업로드**: 실제 촬영한 파일을 전송하며, 서버에 안전하게 경로가 저장됩니다.
- 제출 시 해당 프로젝트의 공정률이 자동으로 업데이트됩니다.

### 4. 계정 및 협력사 관리

- **계정 관리**: 새로운 관리자나 기술자를 등록하고, 비밀번호를 초기화하거나 상태를 관리합니다.
- **협력사 관리**: 파트너 업사의 정보를 등록하고, 해당 업체에 소속된 기술자들을 확인합니다.

### 5. 시스템 설정 (Security Settings)

- **데이터 백업**: 현재 시스템의 모든 데이터를 JSON 파일로 즉시 다운로드하여 안전하게 보관할 수 있습니다.
- **서비스 재기동**: 시스템 유지보수가 필요할 때 관리자가 서버를 원격으로 재시작할 수 있습니다.
- **약관 변경**: 서비스 이용약관을 실시간으로 수정하고 반영합니다.

---

## 🚀 빠른 시작 (Docker)

### 1. 사전 준비

- **Docker** 및 **Docker Compose**가 설치되어 있어야 합니다.

### 2. 서비스 기동

터미널에서 아래 명령어를 실행합니다.

```bash
docker-compose up --build
```

- 이 명령어는 DB 컨테이너를 실행하고, 앱 이미지를 빌드한 뒤 서버를 시작합니다.
- 자동으로 Prisma를 통해 DB 스키마가 생성됩니다.

### 3. 접속 정보

- **Web UI**: `http://localhost:3000` (개발 환경) / `http://localhost:3001` (서버포트 프록시)
- **초기 관리자**: ID `admin` / PW `admin1234`

---

## 📁 기술 스택

- **Frontend**: React, TypeScript, Tailwind CSS, Lucide React
- **Backend**: Node.js, Express, Multer
- **Database**: PostgreSQL, Prisma (ORM)....
- **Infra**: Docker, Docker Compose...
